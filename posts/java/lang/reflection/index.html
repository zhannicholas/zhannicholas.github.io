<!doctype html><html lang=zh-cn><head><meta http-equiv=content-type content="text/html" charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/png sizes=96x96 href=https://zhannicholas.github.io/favicon/favicon-96x96.png><link rel=icon type=image/png sizes=32x32 href=https://zhannicholas.github.io/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://zhannicholas.github.io/favicon/favicon-16x16.png><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><title itemprop=name>Java 反射 | NZ's Digital Garden</title><meta name=description content><meta property="og:title" content="Java 反射 | NZ's Digital Garden"><meta name=twitter:title content="Java 反射 | NZ's Digital Garden"><meta itemprop=name content="Java 反射 | NZ's Digital Garden"><meta name=application-name content="Java 反射 | NZ's Digital Garden"><meta property="og:site_name" content><meta property="og:type" content="website"><meta property="og:title" content="NZ's Digital Garden"><meta property="og:description" content><meta property="og:site_name" content="NZ's Digital Garden"><meta property="og:url" content="https://zhannicholas.github.io/posts/java/lang/reflection/"><meta property="og:locale" content="en"><meta property="og:image" content="/"><meta property="og:image:secure_url" content="https://zhannicholas.github.io"><meta property="og:type" content="website"><script>localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><link rel=preconnect href=https://fonts.googleapis.com><link rel=stylesheet href="/css/style.min.172198f1bbeb66428b798f521ac03583837aeb0e305f2508bd37d77cb221a6fb.css" integrity="sha256-FyGY8bvrZkKLeY9SGsA1g4N66w4wXyUIvTfXfLIhpvs="></head><body class="bg-zinc-100 dark:bg-gray-800"><div class="top-0 z-50 w-full text-gray-200 bg-gray-900 border-2 border-gray-900 md:sticky border-b-stone-200/10"><div x-data="{ open: false }" class="flex flex-col max-w-full px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8"><div class="flex flex-row items-center justify-between p-4"><a href=https://zhannicholas.github.io/ class="flex text-gray-100 transition duration-1000 ease-in-out group"><div class="mt-1 text-xl font-black tracking-tight text-gray-100 uppercase transition-colors group-hover:text-gray-400/60">NZ's Digital Garden</div></a><button class="rounded-lg md:hidden focus:outline-none focus:shadow-outline" @click="open = !open" role=navigation aria-expanded=false aria-label=Main aria-controls=menuItems><svg fill="currentcolor" viewBox="0 0 20 20" class="w-6 h-6"><path x-show="!open" fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4A1 1 0 013 5zm0 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm6 5a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z" clip-rule="evenodd"/><path x-show="open" fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414.0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button></div><nav :class="{'flex': open, 'hidden': !open}" class="flex-col flex-grow hidden pb-4 md:pb-0 md:flex md:justify-end md:flex-row"><div @click.away="open = false" class=relative x-data="{ open: false }"><button @click="open = !open" class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg md:w-auto md:inline md:mt-0 md:ml-4 hover:text-white focus:text-white hover:bg-indigo-600 focus:bg-indigo-600 focus:outline-none focus:shadow-outline">
<span>The Garden</span><svg fill="currentcolor" viewBox="0 0 20 20" :class="{'rotate-180': open, 'rotate-0': !open}" class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414.0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414.0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"/></svg></button><div x-show=open x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" class="absolute right-0 z-30 w-full mt-2 origin-top-right rounded-md shadow-lg md:w-48"><div class="px-2 py-2 text-indigo-900 bg-white rounded-md shadow"><a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg md:mt-0 hover:text-white focus:text-white hover:bg-indigo-600 focus:bg-indigo-600 focus:outline-none focus:shadow-outline" href=https://zhannicholas.github.io/posts>Posts</a>
<a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg md:mt-0 hover:text-white focus:text-white hover:bg-indigo-600 focus:bg-indigo-600 focus:outline-none focus:shadow-outline" href=https://zhannicholas.github.io/pages>Notes</a>
<a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg md:mt-0 hover:text-white focus:text-white hover:bg-indigo-600 focus:bg-indigo-700 focus:outline-none focus:shadow-outline" href=https://zhannicholas.github.io/library>Library</a></div></div></div><a class="px-4 py-2 mt-2 text-sm font-semibold rounded-lg md:mt-0 md:ml-4 hover:text-white focus:text-white hover:bg-indigo-600 focus:bg-indigo-700 focus:outline-none focus:shadow-outline" href=https://zhannicholas.github.io/now>Now</a>
<a class="px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg md:mt-0 md:ml-4 hover:text-white focus:text-white hover:bg-indigo-600 focus:bg-indigo-700 focus:outline-none focus:shadow-outline" href=https://zhannicholas.github.io/about>About</a>
<button id=theme-toggle type=button class="p-2 text-sm text-gray-500 rounded-lg md: dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 md:ml-2 max-w-5 xs:hidden"><svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg><svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentcolor" viewBox="0 0 20 20" aria-label="Dark or Light Mode" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"/></svg></button></nav></div></div><div class=content><article><header class="max-w-2xl mx-auto mb-4 bg-indigo-600"><span class=py-96><h1 class="px-6 pt-6 pb-16 mx-auto dark:prose-invert text-5xl font-black text-center text-white capitalize">Java 反射</h1></span></header><div class="max-w-4xl mx-auto mt-8 mb-2"><div class=px-6></div></div><div class="fixed z-20 top-[3.8125rem] bottom-0 right-[max(0px,calc(50%-45rem))] w-[18rem] py-10 overflow-y-auto hidden xl:block"><nav><div class="flex items-center"><h2 class="pl-2 my-0 text-xl font-medium text-zinc-800 uppercase break-words">Table of Contents</h2></div><div class="absolute top-auto bottom-auto right-auto p-0 -left-4" role=menu><div class="relative z-50 max-w-sm m-4 overflow-hidden shadow-lg"><ul class="relative p-4 overflow-x-hidden overflow-y-auto overscroll-y-auto overscroll-x-auto"><li><a class="px-2 text-left text-zinc-700 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96class%e5%af%b9%e8%b1%a1>获取<code>Class</code>对象</a><ul><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e7%9b%b4%e6%8e%a5%e8%8e%b7%e5%8f%96>直接获取</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e4%bd%bf%e7%94%a8-object%e7%b1%bb%e7%9a%84getclass%e6%96%b9%e6%b3%95>使用 **<code>Object</code>**类的<code>getClass()</code>方法</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e4%bd%bf%e7%94%a8-class%e7%b1%bb%e7%9a%84%e9%9d%99%e6%80%81fornamestring-classname%e6%96%b9%e6%b3%95>使用 **<code>Class</code>**类的静态<code>forName(String className)</code>方法</a></li></ul></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e7%b1%bb%e4%bf%a1%e6%81%af>获取类信息</a><ul><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e5%8c%85%e4%bf%a1%e6%81%af>获取包信息</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e7%b1%bb%e5%90%8d>获取类名</a><ul><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e5%9f%ba%e6%9c%ac%e7%b1%bb%e5%9e%8b%e5%92%8cvoid>基本类型和<code>void</code></a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e5%af%b9%e8%b1%a1%e7%b1%bb%e5%9e%8b>对象类型</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e5%86%85%e9%83%a8%e7%b1%bb>内部类</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e6%95%b0%e7%bb%84>数组</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e5%85%a8%e9%99%90%e5%ae%9a%e5%90%8d%e4%b8%8e%e8%a7%84%e8%8c%83%e5%90%8d>全限定名与规范名</a></li></ul></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e4%bf%ae%e9%a5%b0%e7%ac%a6>获取修饰符</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e7%88%b6%e7%b1%bb>获取父类</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e7%b1%bb%e7%9b%b4%e6%8e%a5%e5%ae%9e%e7%8e%b0%e7%9a%84%e6%8e%a5%e5%8f%a3>获取类直接实现的接口</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e6%b3%a8%e8%a7%a3>获取注解</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e6%b3%9b%e5%9e%8b%e5%8f%82%e6%95%b0>获取泛型参数</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e4%bf%a1%e6%81%af>获取构造函数信息</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e5%ad%97%e6%ae%b5%e4%bf%a1%e6%81%af>获取字段信息</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%8e%b7%e5%8f%96%e6%96%b9%e6%b3%95%e4%bf%a1%e6%81%af>获取方法信息</a></li></ul></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e5%88%9b%e5%bb%ba%e6%96%b0%e5%ae%9e%e4%be%8b>创建新实例</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e6%93%8d%e4%bd%9c%e6%95%b0%e7%bb%84>操作数组</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e8%b0%83%e7%94%a8%e5%af%b9%e8%b1%a1%e6%96%b9%e6%b3%95>调用对象方法</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e4%bf%ae%e6%94%b9%e5%ad%97%e6%ae%b5%e5%80%bc>修改字段值</a></li><li><a class="px-2 text-left text-zinc-900 rounded-md focus:outline-none hover:bg-lightBlue-600 hover:text-white" x-data href=#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99>参考资料</a></li></ul></div></div></nav></div><div class="max-w-2xl px-6 pt-6 pb-16 mx-auto prose dark:prose-invert dark:text-white"><p><strong>反射(Reflection)</strong> 是Java语言的一大特性，它允许Java程序在运行过程中获取自身的相关信息，还能改变程序的内部属性。我们可以使用反射获取类、接口、字段、方法的属性，也可以用反射来实例化一个对象、进行方法调用、获取或修改字段的值。</p><p>以下是Oracle官方对反射的解释：</p><blockquote><p>Reflection enables Java code to discover information about the fields, methods and constructors of loaded classes, and to use reflected fields, methods, and constructors to operate on their underlying counterparts, within security restrictions.</p></blockquote><h2 id=获取class对象>获取<code>Class</code>对象</h2><p>Java中共有两种类型：<strong>引用类型</strong>和 <strong>基本类型</strong>。引用类型包括：类、数组(类和数组都继承自 <strong><code>java.lang.Object</code></strong>)和接口。基本类型包括：<code>boolean</code>、<code>byte</code>、<code>short</code>、<code>char</code>、<code>int</code>、<code>long</code>、<code>float</code>、<code>double</code>。
当Java程序运行时，JVM会为每种类型实例化一个<u>不可变的</u> **<code>java.lang.Class</code>**类，实例的很多数据都来自对应的 **<code>.class</code><strong>文件。</strong><code>java.lang.Class</code>**是反射API的入口，它不仅提供了获取及修改对象内部信息方法，还提供了世袭化对象的途径。有三种方式可以获取到 **<code>Class</code>**实例的引用：直接获取、使用 **<code>Object</code>**类的<code>getClass()</code>方法和使用 **<code>Class</code>**类的静态<code>forName(String className)</code>方法。</p><h3 id=直接获取>直接获取</h3><p>对于 **<code>A</code>**类，我们可以直接使用 **<code>A.class</code>**来获取它对应的 **<code>Class</code>**对象，这也适用于基本类型。对于包装类，其内部的静态<code>final</code>变量 **<code>TYPE</code>**与对应基本类型的 **<code>Class</code>**对象是同一个。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Class<span style=color:#f92672>&lt;</span>Object<span style=color:#f92672>&gt;</span> objectClass <span style=color:#f92672>=</span> Object<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>==</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>TYPE</span><span style=color:#f92672>);</span>  <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>==</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span> <span style=color:#75715e>// false
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>void</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>==</span> Void<span style=color:#f92672>.</span><span style=color:#a6e22e>TYPE</span><span style=color:#f92672>);</span>    <span style=color:#75715e>// true
</span></span></span></code></pre></div><h3 id=使用-object类的getclass方法>使用 **<code>Object</code>**类的<code>getClass()</code>方法</h3><p>**<code>Object</code>**类有一个<code>getClass()</code>方法，它返回对象实例引用的 **<code>Class</code>**对象：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Class<span style=color:#f92672>&lt;?&gt;</span> objectClass <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>().</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>();</span>
</span></span></code></pre></div><h3 id=使用-class类的静态fornamestring-classname方法>使用 **<code>Class</code>**类的静态<code>forName(String className)</code>方法</h3><p>**<code>Class</code>**类的静态<code>forName(String className)</code>方法会尝试返回虚拟机内<code>className</code>对应的 **<code>Class</code>**类对象的引用。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Class<span style=color:#f92672>&lt;?&gt;</span> objectClass <span style=color:#f92672>=</span> Class<span style=color:#f92672>.</span><span style=color:#a6e22e>forName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;java.lang.Object&#34;</span><span style=color:#f92672>);</span>
</span></span></code></pre></div><p>不管采取何种方式获取一个给定类型的 **<code>Class</code>**对象引用，返回的引用(如果存在的话)都是同一个。例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Object<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>().</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>());</span>    <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Object<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span> <span style=color:#f92672>==</span> Class<span style=color:#f92672>.</span><span style=color:#a6e22e>forName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;java.lang.Object&#34;</span><span style=color:#f92672>));</span>  <span style=color:#75715e>// true
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Object<span style=color:#f92672>().</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>()</span> <span style=color:#f92672>==</span> Class<span style=color:#f92672>.</span><span style=color:#a6e22e>forName</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;java.lang.Object&#34;</span><span style=color:#f92672>));</span>   <span style=color:#75715e>// true
</span></span></span></code></pre></div><h2 id=获取类信息>获取类信息</h2><p>我们可以使用反射来获取类的信息，例如包名、类名、类型、访问修饰符等。</p><p>现在有一个 **<code>User</code>**类，其定义如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#f92672>package</span> ml.zhannicholas.reflection<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.Serializable<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.UUID<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> <span style=color:#66d9ef>implements</span> Cloneable<span style=color:#f92672>,</span> Serializable <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> String uuid<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> String name<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> String email<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Address</span> <span style=color:#f92672>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>User</span><span style=color:#f92672>()</span> <span style=color:#f92672>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>User</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>(</span>name<span style=color:#f92672>,</span> <span style=color:#66d9ef>null</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>User</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>,</span> String email<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>uuid</span> <span style=color:#f92672>=</span> UUID<span style=color:#f92672>.</span><span style=color:#a6e22e>randomUUID</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> email<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> Object <span style=color:#a6e22e>clone</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> CloneNotSupportedException <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>super</span><span style=color:#f92672>.</span><span style=color:#a6e22e>clone</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// getter and setter methods
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>**<code>ActiveUser</code>**是 **<code>User</code>**类的一个子类：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ActiveUser</span> <span style=color:#66d9ef>extends</span> User <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String approach<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// getter and setter methods
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>后面会使用反射获取这些类的信息。</p><h3 id=获取包信息>获取包信息</h3><p>简单的获取包名：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>String packageName <span style=color:#f92672>=</span> userClass<span style=color:#f92672>.</span><span style=color:#a6e22e>getPackageName</span><span style=color:#f92672>();</span>    <span style=color:#75715e>// ml.zhannicholas.reflection
</span></span></span></code></pre></div><p>获取 **<code>Package</code>**对象：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Package <span style=color:#f92672>package</span> <span style=color:#960050;background-color:#1e0010>= </span>userClass.getPackage<span style=color:#f92672>();</span>
</span></span></code></pre></div><p>**<code>Package</code>**对象包含了包的元数据，比如包名、版本号等。</p><h3 id=获取类名>获取类名</h3><p>**<code>Class</code>**类提供了四个获取类名的方法，不同方法的返回值稍有差别：
获取类的<code>simple name</code>(不含包名):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span>
</span></span></code></pre></div><p>获取类的<code>name</code>(含包名):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>
</span></span></code></pre></div><p>获取类的规范名(<code>canonical name</code>)：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>();</span>
</span></span></code></pre></div><p>获取对应类型的名字(<code>type name</code>)：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>
</span></span></code></pre></div><h4 id=基本类型和void>基本类型和<code>void</code></h4><p>对于原始类型和<code>void</code>，四种方法返回的结果相同：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>        <span style=color:#75715e>// int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>    <span style=color:#75715e>// int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>();</span>   <span style=color:#75715e>// int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// void
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>        <span style=color:#75715e>// void
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>    <span style=color:#75715e>// void
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>();</span>   <span style=color:#75715e>// void
</span></span></span></code></pre></div><h4 id=对象类型>对象类型</h4><p>对于普通的Java对象，<code>getSimpleName()</code>返回简单的类名，其它三个方法的返回值和类的规范名相同：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span> <span style=color:#75715e>// User
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>   <span style=color:#75715e>// ml.zhannicholas.reflection.User
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// ml.zhannicholas.reflection.User
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// ml.zhannicholas.reflection.User
</span></span></span></code></pre></div><h4 id=内部类>内部类</h4><p>对于四种内部类，以上几种方法的返回值略有差异。</p><h5 id=静态内部类和非静态成员类>静态内部类和非静态成员类</h5><p>对于静态内部类(<code>nested classes</code>)和非静态成员类(<code>inner class</code>)，<code>getSimpleName()</code>返回简单的类名，<code>getCanonicalName()</code>返回类的规范名，而<code>getName()</code>和<code>getTypeName()</code>返回的结果相同，为<code>$</code>连接的外部类的规范名和内部类的简单名：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>Address</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span> <span style=color:#75715e>// Address
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>Address</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>   <span style=color:#75715e>// ml.zhannicholas.reflection.User$Address
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>Address</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// ml.zhannicholas.reflection.User$Address
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>Address</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// ml.zhannicholas.reflection.User.Address
</span></span></span></code></pre></div><h5 id=匿名类>匿名类</h5><p>对于匿名类(<code>anonymouse classes</code>)，<code>getCanonicalName()</code>方法会返回<code>null</code>，<code>getSimpleName()</code>返回一个空字符串。<code>getName()</code>和<code>getTypeName()</code>返回的结果由三部分组成，从左到右分别是：外部类的规范名、$和该匿名类在所有匿名类中出现的位置(从1开始)：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#f92672>package</span> ml.zhannicholas.reflecton<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReflectionTest</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>new</span> User<span style=color:#f92672>(){}.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span>    <span style=color:#75715e>// 空字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>new</span> User<span style=color:#f92672>(){}.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// ml.zhannicholas.reflection.ReflectionTest$2
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>new</span> User<span style=color:#f92672>(){}.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>  <span style=color:#75715e>// ml.zhannicholas.reflection.ReflectionTest$3
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>new</span> User<span style=color:#f92672>(){}.</span><span style=color:#a6e22e>getClass</span><span style=color:#f92672>().</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>()</span>  <span style=color:#75715e>// null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><h5 id=局部类>局部类</h5><p>对于局部类(<code>local classes</code>)，<code>getCanonicalName()</code>方法会返回<code>null</code>，<code>getSimpleName()</code>返回简单的类名。<code>getName()</code>和<code>getTypeName()</code>返回的结果由四部分组成，从左到右分别是：外部类的规范名、$、该局部类在所有同名局部类中出现的位置(从1开始)和局部类的简单名：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#f92672>package</span> ml.zhannicholas.reflection<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ReflectionTest</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        testLocalClasses2<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>        testLocalClasses1<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testLocalClasses1</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;local classes test1: &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LocalClass</span> <span style=color:#f92672>{}</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>testLocalClasses2</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;local classes test2: &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LocalClass</span> <span style=color:#f92672>{}</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>LocalClass<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>上面这段代码的运行结果为：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>local classes test2:
</span></span><span style=display:flex><span>ml.zhannicholas.reflection.ReflectionTest$2LocalClass
</span></span><span style=display:flex><span>ml.zhannicholas.reflection.ReflectionTest$2LocalClass
</span></span><span style=display:flex><span>null
</span></span><span style=display:flex><span>LocalClass
</span></span><span style=display:flex><span>local classes test1:
</span></span><span style=display:flex><span>ml.zhannicholas.reflection.ReflectionTest$1LocalClass
</span></span><span style=display:flex><span>ml.zhannicholas.reflection.ReflectionTest$1LocalClass
</span></span><span style=display:flex><span>null
</span></span><span style=display:flex><span>LocalClass
</span></span></code></pre></div><h4 id=数组>数组</h4><p>对于数组，<code>getSimpleName()</code>返回数组元素类型对应的<code>simple name</code>加上数组维度数量的<code>[]</code>,<code>getTypeName()</code>返回的是数组元素类型对应的<code>type name</code>加上数组维度数量的<code>[]</code>，
<code>getCanonicalName()</code>返回的是数组元素类型对应的<code>canonical name</code>加上数组维度数量的<code>[]</code>，<code>getName()</code>返回的是数组维度数量的<code>[</code>加上数组元素类型对应的编码:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>User<span style=color:#f92672>[].</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSimpleName</span><span style=color:#f92672>();</span>   <span style=color:#75715e>// User[]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>[].</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>();</span> <span style=color:#75715e>// [Lml.zhannicholas.reflection.User
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>[].</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeName</span><span style=color:#f92672>();</span>   <span style=color:#75715e>// ml.zhannicholas.reflection.User[]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>User<span style=color:#f92672>[].</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getCanonicalName</span><span style=color:#f92672>();</span>    <span style=color:#75715e>// ml.zhannicholas.reflection.User[]
</span></span></span></code></pre></div><h4 id=全限定名与规范名>全限定名与规范名</h4><p>全限定名(fully qualified name)与规范名(canonical name)的定义和区别见<a href=https://docs.oracle.com/javase/specs/jls/se11/html/jls-6.html#jls-6.7 target=_blank>JLS11</a>
。</p><h3 id=获取修饰符>获取修饰符</h3><p>通过<code>getModifiers()</code>方法可以获取一个类或接口的修饰符，返回的结果会被编码成一个<code>int</code>类型的整数，整数的每一位都代表不同的访问修饰符。我们可以 **<code>Modifier</code>**类的静态方法<code>toString()</code>获得解码后的访问修饰符。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>int</span> modifier <span style=color:#f92672>=</span> User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getModifiers</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span>Modifier<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>modifier<span style=color:#f92672>);</span>    <span style=color:#75715e>// public
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>Modifier<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>Serializable<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getModifiers</span><span style=color:#f92672>());</span>   <span style=color:#75715e>// public abstract interface
</span></span></span></code></pre></div><p>通过这里我们可以明确的知道接口类型是<code>abstract</code>的。</p><p>值得注意的是，这里的访问修饰符指的是<u>JVM</u>中的访问修饰符，即<a href=https://docs.oracle.com/javase/specs/jvms/se11/html/jvms-4.html#jvms-4.1 target=_blank>JVMS11</a>
中定义的<code>access_flags</code>，共9种，而<a href=https://docs.oracle.com/javase/specs/jls/se11/html/jls-8.html#jls-8.1.1 target=_blank>JLS11</a>
定义的类修饰符只有7种。</p><h3 id=获取父类>获取父类</h3><p>通过<code>getSuperClass()</code>方法可以获得一个类的父类对应的 **<code>Class</code><strong>实例。对于基本类型、<code>void</code>、接口、</strong><code>Object</code>**类本身，调用这个方法会返回<code>null</code>。对于数组，方法会返回 **<code>Object</code>**类对应的 **<code>Class</code>**实例：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperclass</span><span style=color:#f92672>());</span> <span style=color:#75715e>// class java.lang.Object
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>[].</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperclass</span><span style=color:#f92672>());</span> <span style=color:#75715e>// class java.lang.Object
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Object<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperclass</span><span style=color:#f92672>());</span>   <span style=color:#75715e>// null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperclass</span><span style=color:#f92672>());</span>  <span style=color:#75715e>// null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#66d9ef>void</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperclass</span><span style=color:#f92672>());</span> <span style=color:#75715e>// null
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Serializable<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSuperclass</span><span style=color:#f92672>());</span> <span style=color:#75715e>// null
</span></span></span></code></pre></div><h3 id=获取类直接实现的接口>获取类直接实现的接口</h3><p>通过调用<code>getInterfaces()</code>方法，我们可以得到类直接实现的接口，或接口直接继承的接口。对于基本类型，方法返回一个长度为0的数组。对于数组类型，方法会返回一个长度为2的数组，对应的元素分别为 **<code>java.lang.Cloneable</code>**和 <strong><code>java.io.Serializable</code></strong>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInterfaces</span><span style=color:#f92672>()));</span>    <span style=color:#75715e>// [interface java.lang.Cloneable, interface java.io.Serializable]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInterfaces</span><span style=color:#f92672>()));</span>  <span style=color:#75715e>// []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInterfaces</span><span style=color:#f92672>()));</span> <span style=color:#75715e>// []
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>List<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInterfaces</span><span style=color:#f92672>()));</span>    <span style=color:#75715e>// [interface java.util.Collection]
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>User<span style=color:#f92672>[].</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInterfaces</span><span style=color:#f92672>()));</span>  <span style=color:#75715e>// [interface java.lang.Cloneable, interface java.io.Serializable]
</span></span></span></code></pre></div><h3 id=获取注解>获取注解</h3><p>可以通过以下方式获取一个类或接口上的注解：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Annotation<span style=color:#f92672>[]</span> annotations <span style=color:#f92672>=</span> Deprecated<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getAnnotations</span><span style=color:#f92672>();</span>
</span></span></code></pre></div><h3 id=获取泛型参数>获取泛型参数</h3><p>可以通过<code>getTypeParameters()</code>方法获取泛型参数，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>TypeVariable<span style=color:#f92672>[]</span> typeVariables <span style=color:#f92672>=</span> Map<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getTypeParameters</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>TypeVariable typeVariable<span style=color:#f92672>:</span> typeVariables<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>print</span><span style=color:#f92672>(</span>typeVariable<span style=color:#f92672>.</span><span style=color:#a6e22e>getName</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>以上代码获取了 **<code>java.util.Map</code>**接口内的泛型参数名字，输出结果为：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>K V
</span></span></code></pre></div><h3 id=获取构造函数信息>获取构造函数信息</h3><p>**<code>Class</code>**类提供了4种可以获取构造函数信息的方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> Constructor<span style=color:#f92672>&lt;?&gt;[]</span> getConstructors<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Constructor<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>getConstructor</span><span style=color:#f92672>(</span>Class<span style=color:#f92672>&lt;?&gt;...</span> parameterTypes<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Constructor<span style=color:#f92672>&lt;?&gt;[]</span> getDeclaredConstructors<span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Constructor<span style=color:#f92672>&lt;</span>T<span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>getDeclaredConstructor</span><span style=color:#f92672>(</span>Class<span style=color:#f92672>&lt;?&gt;...</span> parameterTypes<span style=color:#f92672>);</span>
</span></span></code></pre></div><p><code>getConstructors()</code>方法返回当前类中的所有<u>公有</u>构造函数(对于接口类型、基本类型、<code>void</code>类型和数组类型，返回的数组长度为0)，<code>getDeclaredConstructors()</code>方法返回当前类中所有声明的所有构造函数，如果当前类有默认构造函数，那么默认构造函数也会被添加到返回结果中。
<code>getConstructor()</code>和<code>getDeclaredConstructor()</code>可以返回具有特定参数列表的构造函数，如果找不到特定参数列表的构造函数，经抛出一个 **<code>NoSuchMethodException</code>**异常。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>printConstructor</span><span style=color:#f92672>(</span>Constructor<span style=color:#f92672>&lt;?&gt;</span> constructor<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>     System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>constructor<span style=color:#f92672>.</span><span style=color:#a6e22e>toGenericString</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>printConstructors</span><span style=color:#f92672>(</span>Constructor<span style=color:#f92672>&lt;?&gt;[]</span> constructors<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>Constructor<span style=color:#f92672>&lt;?&gt;</span> constructor<span style=color:#f92672>:</span> constructors<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        printConstructor<span style=color:#f92672>(</span>constructor<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>getConstructors</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> NoSuchMethodException <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Constructors of ActiveUser.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printConstructors<span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getConstructors</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Constructors of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printConstructors<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getConstructors</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared constructors of ActiveUser.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printConstructors<span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredConstructors</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared constructors of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printConstructors<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredConstructors</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared constructors of User.class with parameters list (String.class):&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printConstructor<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredConstructor</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p><code>getConstructors()</code>方法会尝试去获取 **<code>User</code>**和 **<code>ActiveUser</code>**的构造函数并输出，运行方法，将会得到以下结果：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>Constructors of ActiveUser.class:
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.ActiveUser()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Constructors of User.class:
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.User(java.lang.String)
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.User()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Declared constructors of ActiveUser.class:
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.ActiveUser()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Declared constructors of User.class:
</span></span><span style=display:flex><span>private ml.zhannicholas.reflection.User(java.lang.String,java.lang.String)
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.User(java.lang.String)
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.User()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Declared constructors of User.class with parameters list (String.class):
</span></span><span style=display:flex><span>public ml.zhannicholas.reflection.User(java.lang.String)
</span></span></code></pre></div><h3 id=获取字段信息>获取字段信息</h3><p>**<code>Class</code>**类提供了4种可以获取字段信息的方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> Field<span style=color:#f92672>[]</span> <span style=color:#a6e22e>getFields</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Field <span style=color:#a6e22e>getField</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Field<span style=color:#f92672>[]</span> <span style=color:#a6e22e>getDeclaredFields</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Field <span style=color:#a6e22e>getDeclaredField</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>);</span>
</span></span></code></pre></div><p><code>getFields()</code>方法返回类中所有的<u>公有</u>字段(包括继承来的<u>公有</u>字段)，<code>getDeclaredFields()</code>返回类中声明的<u>所有</u>字段(但不包括从继承来的字段)，<code>getField()</code>和<code>getDeclaredField()</code>会返回具有指定<code>name</code>的字段，若不存在<code>name</code>对应的字段，将抛出一个 <strong><code>NoSuchFieldException</code></strong>。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>printField</span><span style=color:#f92672>(</span>Field field<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>field<span style=color:#f92672>.</span><span style=color:#a6e22e>toGenericString</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>printFields</span><span style=color:#f92672>(</span>Field<span style=color:#f92672>[]</span> fields<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>Field field<span style=color:#f92672>:</span> fields<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        printField<span style=color:#f92672>(</span>field<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>getFields</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> NoSuchFieldException <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Fields of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printFields<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getFields</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Fields of ActiveUser.class&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printFields<span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getFields</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared fields of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printFields<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredFields</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared fields of ActiveUser.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printFields<span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredFields</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Filed [approach] of ActiveUser.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printField<span style=color:#f92672>(</span>ActiveUser<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getField</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;approach&#34;</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared field [uuid] of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printField<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredField</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;uuid&#34;</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p><code>getFields()</code>方法会尝试获取 **<code>User</code>**和 **<code>ActiveUser</code>**类中满足要求的字段并输出，输出结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>Fields of User.class:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Fields of ActiveUser.class
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.ActiveUser.approach
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Declared fields of User.class:
</span></span><span style=display:flex><span>protected java.lang.String ml.zhannicholas.reflection.User.uuid
</span></span><span style=display:flex><span>protected java.lang.String ml.zhannicholas.reflection.User.name
</span></span><span style=display:flex><span>protected java.lang.String ml.zhannicholas.reflection.User.email
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Declared fields of ActiveUser.class:
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.ActiveUser.approach
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Filed [approach] of ActiveUser.class:
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.ActiveUser.approach
</span></span><span style=display:flex><span>Declared field [uuid] of User.class:
</span></span><span style=display:flex><span>protected java.lang.String ml.zhannicholas.reflection.User.uuid
</span></span></code></pre></div><h3 id=获取方法信息>获取方法信息</h3><p>**<code>Class</code>**类提供了4种可以获取方法信息的方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> Method<span style=color:#f92672>[]</span> <span style=color:#a6e22e>getMethods</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Method <span style=color:#a6e22e>getMethod</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>,</span> Class<span style=color:#f92672>&lt;?&gt;...</span> parameterTypes<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Method<span style=color:#f92672>[]</span> <span style=color:#a6e22e>getDeclaredMethods</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> Method <span style=color:#a6e22e>getDeclaredMethod</span><span style=color:#f92672>(</span>String name<span style=color:#f92672>,</span> Class<span style=color:#f92672>&lt;?&gt;...</span> parameterTypes<span style=color:#f92672>);</span>
</span></span></code></pre></div><p><code>getMethods()</code>方法返回类中所有<u>公有</u>方法(包括继承来的)，<code>getDeclaredMethods()</code>方法返回类中所有声明的方法(不包括继承来的),<code>getMethod()</code>和<code>getDeclaredMethod()</code>返回满足指定参数列表并且方法名匹配的方法，可能抛出一个 <strong><code>NoSuchMethodException</code></strong>。这四个方法不会获取类中的构造函数。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>printMethod</span><span style=color:#f92672>(</span>Method method<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>method<span style=color:#f92672>.</span><span style=color:#a6e22e>toGenericString</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>printMethods</span><span style=color:#f92672>(</span>Method<span style=color:#f92672>[]</span> methods<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span>Method method<span style=color:#f92672>:</span> methods<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        printMethod<span style=color:#f92672>(</span>method<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>();</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>getMethods</span><span style=color:#f92672>()</span> <span style=color:#66d9ef>throws</span> NoSuchMethodException <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Methods of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printMethods<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getMethods</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared method of User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printMethods<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredMethods</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Method [equals] without parameter list in User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printMethod<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getMethod</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;equals&#34;</span><span style=color:#f92672>,</span> Object<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Declared method [getEmail] without parameter list in User.class:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    printMethod<span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredMethod</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;getEmail&#34;</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>这段代码会尝试获取 **<code>User</code>**类中满足要求的方法并输出，运行结果为：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>Methods of User.class:
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.User.getName()
</span></span><span style=display:flex><span>public void ml.zhannicholas.reflection.User.setName(java.lang.String)
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.User.getEmail()
</span></span><span style=display:flex><span>public void ml.zhannicholas.reflection.User.setEmail(java.lang.String)
</span></span><span style=display:flex><span>public final native void java.lang.Object.wait(long) throws java.lang.InterruptedException
</span></span><span style=display:flex><span>public final void java.lang.Object.wait(long,int) throws java.lang.InterruptedException
</span></span><span style=display:flex><span>public final void java.lang.Object.wait() throws java.lang.InterruptedException
</span></span><span style=display:flex><span>public boolean java.lang.Object.equals(java.lang.Object)
</span></span><span style=display:flex><span>public java.lang.String java.lang.Object.toString()
</span></span><span style=display:flex><span>public native int java.lang.Object.hashCode()
</span></span><span style=display:flex><span>public final native java.lang.Class&lt;?&gt; java.lang.Object.getClass()
</span></span><span style=display:flex><span>public final native void java.lang.Object.notify()
</span></span><span style=display:flex><span>public final native void java.lang.Object.notifyAll()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Declared method of User.class:
</span></span><span style=display:flex><span>protected java.lang.Object ml.zhannicholas.reflection.User.clone() throws java.lang.CloneNotSupportedException
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.User.getName()
</span></span><span style=display:flex><span>public void ml.zhannicholas.reflection.User.setName(java.lang.String)
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.User.getEmail()
</span></span><span style=display:flex><span>public void ml.zhannicholas.reflection.User.setEmail(java.lang.String)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Method [equals] without parameter list in User.class:
</span></span><span style=display:flex><span>public boolean java.lang.Object.equals(java.lang.Object)
</span></span><span style=display:flex><span>Declared method [getEmail] without parameter list in User.class:
</span></span><span style=display:flex><span>public java.lang.String ml.zhannicholas.reflection.User.getEmail()
</span></span></code></pre></div><h2 id=创建新实例>创建新实例</h2><p>通过反射，有两种方式可以创建新的实例：</p><ol><li>使用<code>Class.newInstance()</code>。</li><li>使用<code>Constructor.newInstance()</code>。</li></ol><p>前者在JDK9中已被弃用，因为它会抛出构造函数中的任何异常(不管是受检异常还是非受检异常)，而后者会使用 **<code>InvocationTargetException</code>**来包裹构造函数抛出的任何异常。此外，和后者相比，前者只支持无参构造函数并要求这个构造函数是可见的，而后者能够调用所有的构造函数(包括被<code>private</code>修饰的构造函数)。前者可以使用<code>clazz.getDeclaredConstructor().newInstance()</code>代替。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Invoke default constructor:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredConstructor</span><span style=color:#f92672>().</span><span style=color:#a6e22e>newInstance</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Invoke public constructor:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>User user1 <span style=color:#f92672>=</span> User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredConstructor</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>).</span><span style=color:#a6e22e>newInstance</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Nicholas&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;name=&#34;</span> <span style=color:#f92672>+</span> user1<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, email=&#34;</span> <span style=color:#f92672>+</span> user1<span style=color:#f92672>.</span><span style=color:#a6e22e>getEmail</span><span style=color:#f92672>());</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Invoke private constructor:&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Constructor<span style=color:#f92672>&lt;</span>User<span style=color:#f92672>&gt;</span> userConstructor <span style=color:#f92672>=</span> User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredConstructor</span><span style=color:#f92672>(</span>String<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> String<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>userConstructor<span style=color:#f92672>.</span><span style=color:#a6e22e>setAccessible</span><span style=color:#f92672>(</span><span style=color:#66d9ef>true</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>User user2 <span style=color:#f92672>=</span> userConstructor<span style=color:#f92672>.</span><span style=color:#a6e22e>newInstance</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Nicholas&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;nicholas@zhannicholas.ml&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;name=&#34;</span> <span style=color:#f92672>+</span> user2<span style=color:#f92672>.</span><span style=color:#a6e22e>name</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, email=&#34;</span> <span style=color:#f92672>+</span> user2<span style=color:#f92672>.</span><span style=color:#a6e22e>getEmail</span><span style=color:#f92672>());</span>
</span></span></code></pre></div><p>上面的代码演示了如何使用反射来调用默认构造函数，公有构造函数以及私有构造函数。在调用私有构造函数时，需要先是该构造函数<strong>可见</strong>，否则会遭遇一个 <strong><code>IllegalAccessException</code></strong>。运行结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>nvoke default constructor:
</span></span><span style=display:flex><span>ml.zhannicholas.reflection.User@5594a1b5
</span></span><span style=display:flex><span>Invoke public constructor:
</span></span><span style=display:flex><span>name=Nicholas, email=null
</span></span><span style=display:flex><span>Invoke private constructor:
</span></span><span style=display:flex><span>name=Nicholas, email=nicholas@zhannicholas.ml
</span></span></code></pre></div><h2 id=操作数组>操作数组</h2><p>**<code>Class</code>**类并没有直接提供操作数组的方法，但我们可以通过它提供的<code>isArray()</code>方法来判断某个 **<code>Class</code>**实例是否代表一个数组。要操作数组，我们可以使用 **<code>java.lang.reflect.Array</code>**类，它提供了动态创建和访问数组的静态方法。</p><p>**<code>Array</code>**类提供了两个创建数组的方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> Object <span style=color:#a6e22e>newInstance</span><span style=color:#f92672>(</span>Class<span style=color:#f92672>&lt;?&gt;</span> componentType<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> length<span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> Object <span style=color:#a6e22e>newInstance</span><span style=color:#f92672>(</span>Class<span style=color:#f92672>&lt;?&gt;</span> componentType<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>...</span> dimensions<span style=color:#f92672>);</span>
</span></span></code></pre></div><p>第一个方法用来创建一维数组，第二个方法用来创建多维数组。</p><p>此外，**<code>Array</code>**还提供了获取数组维度(<code>getLength()</code>)，设置(<code>setXXX()</code>)和读取(<code>getXXX()</code>)指定下标值的方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> nums <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>[])</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>newInstance</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>nums<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>Array<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span>nums<span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Array<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span>nums<span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;[&#34;</span> <span style=color:#f92672>+</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>nums<span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>)</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, &#34;</span> <span style=color:#f92672>+</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>nums<span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>)</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;]&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span><span style=color:#f92672>[][]</span> matrix <span style=color:#f92672>=</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>[][])</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>newInstance</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Dimension of matrix: &#34;</span> <span style=color:#f92672>+</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>getLength</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;[&#34;</span> <span style=color:#f92672>+</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>[</span><span style=color:#ae81ff>0</span><span style=color:#f92672>])</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;, &#34;</span> <span style=color:#f92672>+</span> Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>[</span><span style=color:#ae81ff>1</span><span style=color:#f92672>])</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;]&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Array<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]{</span><span style=color:#ae81ff>1</span><span style=color:#f92672>,</span><span style=color:#ae81ff>2</span><span style=color:#f92672>});</span>
</span></span><span style=display:flex><span>Array<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]{</span><span style=color:#ae81ff>3</span><span style=color:#f92672>,</span><span style=color:#ae81ff>4</span><span style=color:#f92672>});</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>((</span><span style=color:#66d9ef>int</span><span style=color:#f92672>[])</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>,</span> <span style=color:#ae81ff>0</span><span style=color:#f92672>)));</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Arrays<span style=color:#f92672>.</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>((</span><span style=color:#66d9ef>int</span><span style=color:#f92672>[])</span> Array<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>matrix<span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>)));</span>
</span></span></code></pre></div><p>上面这段代码演示了使用 **<code>Array</code>**类进行数组的创建、维度及内容读取，运行结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>[0, 0]
</span></span><span style=display:flex><span>[1, 2]
</span></span><span style=display:flex><span>Dimension of matrix: 2
</span></span><span style=display:flex><span>[[0, 0], [0, 0]]
</span></span><span style=display:flex><span>[1, 2]
</span></span><span style=display:flex><span>[3, 4]
</span></span></code></pre></div><h2 id=调用对象方法>调用对象方法</h2><p>在获取到类的方法信息之后，我们可以通过 **<code>java.lang.reflect.Method</code>**的<code>public Object invoke(Object obj, Object... args);</code>方法来调用<code>obj</code>的中参数列表为<code>Object... args</code>的方法并得到方法调用结果。对于静态方法，给第一个参数传递<code>null</code>即可。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Calculator</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>add</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> a<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> b<span style=color:#f92672>)</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b<span style=color:#f92672>;}</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>minus</span><span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> a<span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span> b<span style=color:#f92672>)</span> <span style=color:#f92672>{</span><span style=color:#66d9ef>return</span> a <span style=color:#f92672>-</span> b<span style=color:#f92672>;}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>InvokeCalculator</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        Method add <span style=color:#f92672>=</span> Calculator<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredMethod</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;add&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>add<span style=color:#f92672>.</span><span style=color:#a6e22e>invoke</span><span style=color:#f92672>(</span><span style=color:#66d9ef>null</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>        Method minus <span style=color:#f92672>=</span> Calculator<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredMethod</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;minus&#34;</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>,</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>        System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>minus<span style=color:#f92672>.</span><span style=color:#a6e22e>invoke</span><span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Calculator<span style=color:#f92672>(),</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>,</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>上面的代码通过反射获取到了 **<code>Calculator</code>**的静态方法<code>add()</code>和实例方法<code>minus</code>，然后通过 **<code>Method</code>**类的的<code>invoke()</code>方法进行调用，输出结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>3
</span></span><span style=display:flex><span>-1
</span></span></code></pre></div><h2 id=修改字段值>修改字段值</h2><p>在获取到类的字段信息后，我们可以通过 **<code>java.lang.reflect.Field</code>**类提供的<code>getXXX()</code>方法来获取实例字段的值，也可以使用<code>setXXX()</code>方法来改变实例字段的值：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>User user <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> User<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Nicholas&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>Field name <span style=color:#f92672>=</span> User<span style=color:#f92672>.</span><span style=color:#a6e22e>class</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getDeclaredField</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;name&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>name<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>user<span style=color:#f92672>));</span>
</span></span><span style=display:flex><span>name<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span>user<span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;Sarkar&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>name<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span><span style=color:#f92672>(</span>user<span style=color:#f92672>));</span>
</span></span></code></pre></div><p>这段代码先实例化了一个 **<code>User</code>**类，然后通过反射读取<code>name</code>字段的值，之后又修改了<code>name</code>的值，运行结果如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>Nicholas
</span></span><span style=display:flex><span>Sarkar
</span></span></code></pre></div><h2 id=参考资料>参考资料</h2><ol><li>James Gosling, Bill Joy, Guy Steele, Gilad Bracha, Alex Buckley, Daniel Smith. <em>The Java Language Specification: Java SE 11 Edition</em>. 2018.</li><li>Tim Lindholm, Frank Yellin, Gilad Bracha, Alex Buckley, Daniel Smith. <em>The Java Virtual Machine Specification: Java SE 11 Edition</em>. 2018.</li><li><a href=https://docs.oracle.com/javase/tutorial/reflect/ target=_blank>Trail: The Reflection API</a>
.</li></ol></div><hr><aside><h4>No linked references</h4></aside><br><aside class=related><h3 class="text-2xl font-black tracking-tight text-indigo-500 capitalize dark:text-indigo-300 sm:text-2xl">Related Content</h3><ul><p class="inline-flex items-center rounded-md bg-gray-300 hover:bg-indigo-200 hover:text-black px-2.5 py-0.5 text-sm font-medium text-gray-900 capitalize"><a style=color:var(--link) href=https://zhannicholas.github.io/posts/java/lang/cloning_objects>Cloning Objects</a></p><p class="inline-flex items-center rounded-md bg-gray-300 hover:bg-indigo-200 hover:text-black px-2.5 py-0.5 text-sm font-medium text-gray-900 capitalize"><a style=color:var(--link) href=https://zhannicholas.github.io/posts/java/lang/nested_classes>Nested Classes</a></p></ul></aside></article></div><div x-cloak x-data="{ atTop: false }"><button id=scrollToTop name="scroll to top button" aria-label="scroll to top button" class="fixed z-50 w-10 h-10 font-bold text-center text-white transition-all duration-1000 ease-in-out transform bg-violet-600 rounded-full cursor-pointer animate-bounce bottom-24 right-8 focus:outline-none" :class="{ 'opacity-0 translate-y-24': !atTop, 'opacity-1 translate-y-2' :  atTop}" @click="window.scrollTo({ top: 0, behavior: 'smooth'})" @scroll.window="atTop = (window.pageYOffset > 200)"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11l3-3m0 0 3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"/></svg></button></div><script src=https://zhannicholas.github.io/js/alpine.js defer></script>
<script src=https://zhannicholas.github.io/js/darkmode.js defer></script><footer class=bg-gray-900><div class="max-w-md px-4 py-12 mx-auto overflow-hidden sm:max-w-3xl sm:px-6 lg:max-w-7xl lg:px-8"><nav class="flex flex-wrap justify-center -mx-5 -my-2" aria-label=Footer><div class="px-5 py-2"><a href=https://zhannicholas.github.io/about class="text-base text-gray-400 hover:text-gray-300">About</a></div><div class="px-5 py-2"><a href=https://zhannicholas.github.io/posts class="text-base text-gray-400 hover:text-gray-300">Posts</a></div><div class="px-5 py-2"><a href=https://zhannicholas.github.io/pages class="text-base text-gray-400 hover:text-gray-300">Notes</a></div><div class="px-5 py-2"><a href=https://zhannicholas.github.io/library class="text-base text-gray-400 hover:text-gray-300">Library</a></div><div class="px-5 py-2"><a href=https://zhannicholas.github.io/contact/ class="text-base text-gray-400 hover:text-gray-300">Contact</a></div></nav><div class="flex justify-center mt-2 space-x-6"><a href=https://github.com/zhannicholas class="text-gray-400 hover:text-gray-300"><span class=sr-only>GitHub</span><svg class="w-6 h-6" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483.0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951.0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65.0.0.84-.27 2.75 1.026A9.564 9.564.0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688.0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855.0 1.338-.012 2.419-.012 2.747.0.268.18.58.688.482A10.019 10.019.0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/></svg></a>
<a href=mailto:zhan_nicholas@outlook.com class="text-gray-400 hover:text-gray-300"><span class=sr-only>Email</span><svg class="w-6 h-6" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M21 7.38246601V5H3V7.38199365l9.0000224 4.50046115L21 7.38246601zm0 2.23606798-9.0000224 4.50001121L3 9.61810635V19H21V9.61853399zM3 3H21c1.1045695.0 2 .8954305 2 2V19c0 1.1045695-.8954305 2-2 2H3c-1.1045695.0-2-.8954305-2-2V5c0-1.1045695.8954305-2 2-2z" clip-rule="evenodd"/></svg></a>
<a href=https://t.me/zhannicholas class="text-gray-400 hover:text-gray-300"><span class=sr-only>Telegram</span><svg class="w-6 h-6" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.78754 14.0196C5.83131 14.0344 5.87549 14.0448 5.91963 14.0512 5.96777 14.1644 6.02996 14.3107 6.10252 14.4818c.17707.4176.41566.9825.66194 1.5717C7.2667 17.2552 7.77332 18.4939 7.88521 18.8485 8.02372 19.2868 8.17013 19.5848 8.32996 19.7883 8.4126 19.8935 8.50819 19.9853 8.62003 20.0549 8.67633 20.0899 8.7358 20.1186 8.79788 20.14 8.80062 20.141 8.80335 20.1419 8.80608 20.1428 9.1261 20.2636 9.41786 20.2133 9.60053 20.1518 9.69827 20.1188 9.77735 20.0791 9.8334 20.0469 9.86198 20.0304 9.88612 20.0151 9.90538 20.0021L9.90992 19.9991l2.82618-1.7625 3.2646 2.5028C16.0488 20.7763 16.1014 20.8073 16.157 20.8316 16.5492 21.0027 16.929 21.0624 17.2862 21.0136 17.6429 20.9649 17.926 20.8151 18.1368 20.6464 18.3432 20.4813 18.4832 20.2963 18.5703 20.1589 18.6148 20.0887 18.6482 20.0266 18.6718 19.9791 18.6836 19.9552 18.6931 19.9346 18.7005 19.9181L18.7099 19.8963 18.7135 19.8877 18.715 19.8841 18.7156 19.8824 18.7163 19.8808C18.7334 19.8379 18.7466 19.7935 18.7556 19.7482L21.7358 4.72274C21.7453 4.67469 21.7501 4.62581 21.7501 4.57682 21.7501 4.13681 21.5843 3.71841 21.1945 3.46452 20.8613 3.24752 20.4901 3.23818 20.2556 3.25598 20.0025 3.27519 19.7688 3.33766 19.612 3.38757 19.5304 3.41355 19.4619 3.43861 19.4126 3.45773 19.3878 3.46734 19.3675 3.47559 19.3523 3.48188L19.341 3.48666 2.62725 10.0432 2.62509 10.044C2.61444 10.0479 2.60076 10.053 2.58451 10.0593 2.55215 10.0719 2.50878 10.0896 2.45813 10.1126 2.35935 10.1574 2.22077 10.2273 2.07856 10.3247c-.22719.1556-.74968.5817-.6617 1.285.07019.5611.45457.9057.68876 1.0714C2.23421 12.7721 2.35638 12.8371 2.44535 12.8795 2.48662 12.8991 2.57232 12.9339 2.6095 12.9491L2.61889 12.9529l3.16865 1.0667zM19.9259 4.86786 19.9236 4.86888C19.9152 4.8725 19.9069 4.87596 19.8984 4.87928L3.1644 11.4438C3.15566 11.4472 3.14686 11.4505 3.138 11.4536L3.12869 11.4571C3.11798 11.4613 3.09996 11.4686 3.07734 11.4788 3.06451 11.4846 3.05112 11.491 3.03747 11.4978 3.05622 11.5084 3.07417 11.5175 3.09012 11.5251 3.10543 11.5324 3.11711 11.5374 3.1235 11.54l3.14263 1.058C6.32365 12.6174 6.37727 12.643 6.42649 12.674L16.8033 6.59948 16.813 6.59374C16.8205 6.58927 16.8305 6.58353 16.8424 6.5768 16.866 6.56345 16.8984 6.54568 16.937 6.52603 17.009 6.48938 17.1243 6.43497 17.2541 6.39485 17.3444 6.36692 17.6109 6.28823 17.899 6.38064 18.0768 6.43767 18.2609 6.56028 18.3807 6.76798 18.4401 6.87117 18.4718 6.97483 18.4872 7.06972 18.528 7.2192 18.5215 7.36681 18.4896 7.49424 18.4208 7.76875 18.228 7.98287 18.0525 8.14665 17.9021 8.28706 15.9567 10.1629 14.0376 12.0147 13.0805 12.9381 12.1333 13.8525 11.4252 14.5359l-.465.449 5.8719 4.5018C16.9668 19.5349 17.0464 19.5325 17.0832 19.5274 17.1271 19.5214 17.163 19.5045 17.1997 19.4752 17.2407 19.4424 17.2766 19.398 17.3034 19.3557L17.3045 19.354 20.195 4.78102C20.1521 4.79133 20.1087 4.80361 20.0669 4.81691 20.0196 4.83198 19.9805 4.84634 19.9547 4.85637 19.9418 4.86134 19.9326 4.86511 19.9276 4.86719L19.9259 4.86786zM11.4646 17.2618 10.2931 16.3636 10.0093 18.1693 11.4646 17.2618zM9.21846 14.5814l1.16494-1.1247c.7081-.6835 1.6555-1.5979 2.6127-2.5215l.9725-.9382-6.52007 3.8168L7.48351 13.8963c.1777.4191.41736.9864.664940000000001 1.5788.185129999999999.4429.37872.9093.55504 1.3411l.28304-1.8004C9.01381 14.8422 9.09861 14.692 9.21846 14.5814z" clip-rule="evenodd"/></svg></a></div><p class="mt-2 text-base text-center text-gray-400">2018-2023 &copy; Nicholas Zhan. Licensed under <a rel=license href=http://creativecommons.org/licenses/by-nc/4.0/>CC BY-NC 4.0</a>.</p><p class="mt-2 text-base text-center text-gray-400">Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://github.com/sawhney17/logseq-schrodinger>logseq-schrodinger</a>.</p></div></footer></body></html>